<div class="header-bar">
  <h2>Loan Types</h2>
  <button class="add-btn" (click)="openAdd()">ï¼‹ Add Loan Type</button>
</div>

<table class="loan-table">
<tr>
  <th>ID</th>
  <th>Name</th>
  <th>Interest</th>
  <th>Min Amount</th>
  <th>Max Amount</th>
  <th>Tenure</th>
  <th>Actions</th>
</tr>

<tr *ngFor="let l of loanTypes">
  <td>{{l.loanTypeId}}</td>
  <td>{{l.loanTypeName}}</td>
  <td>{{l.interestRate}}%</td>
  <td>â‚¹{{l.minAmount}}</td>
  <td>â‚¹{{l.maxAmount}}</td>
  <td>{{l.maxTenureMonths}} months</td>
  <td class="actions">
    <button class="icon-btn edit" title="Edit" (click)="edit(l)">âœï¸</button>
    <button class="icon-btn delete" title="Disable" (click)="disable(l.loanTypeId)">ğŸ—‘ï¸</button>
  </td>
</tr>
</table>

<!-- EDIT POPUP -->
<div *ngIf="editData" class="popup">
  <h3>Edit Loan Type</h3>

  <label>Loan Name</label>
  <input [(ngModel)]="editData.loanTypeName">

  <label>Interest Rate (%)</label>
  <input [(ngModel)]="editData.interestRate" type="number">

  <label>Minimum Amount (â‚¹)</label>
  <input [(ngModel)]="editData.minAmount" type="number">

  <label>Maximum Amount (â‚¹)</label>
  <input [(ngModel)]="editData.maxAmount" type="number">

  <label>Maximum Tenure (Months)</label>
  <input [(ngModel)]="editData.maxTenureMonths" type="number">

  <div class="popup-actions">
    <button class="primary" [disabled]="saving" (click)="save()">Save</button>

    <button class="secondary" (click)="cancel()">Cancel</button>
  </div>
</div>

<!-- ADD POPUP -->
<div *ngIf="showAdd" class="popup">
  <h3>Add Loan Type</h3>

  <label>Loan Name</label>
  <input [(ngModel)]="newLoan.loanTypeName" placeholder="Eg: Home Loan">

  <label>Interest Rate (%)</label>
  <input [(ngModel)]="newLoan.interestRate" type="number" placeholder="Eg: 12">

  <label>Minimum Amount (â‚¹)</label>
  <input [(ngModel)]="newLoan.minAmount" type="number" placeholder="Eg: 50000">

  <label>Maximum Amount (â‚¹)</label>
  <input [(ngModel)]="newLoan.maxAmount" type="number" placeholder="Eg: 2000000">

  <label>Maximum Tenure (Months)</label>
  <input [(ngModel)]="newLoan.maxTenureMonths" type="number" placeholder="Eg: 36">

  <div class="popup-actions">
    <button class="primary" (click)="create()">Create</button>
    <button class="secondary" (click)="cancel()">Cancel</button>
  </div>
</div>
